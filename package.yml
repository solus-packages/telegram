name       : telegram
version    : 1.9.14
release    : 126
source     :
    - https://github.com/telegramdesktop/tdesktop/releases/download/v1.9.14/tdesktop-1.9.14-full.tar.gz : 864d1d5e810e30368e60d4ea389c644387abbc803b3b5426268efa5016d15a4b
license    : GPL-3.0-or-later
component  : network.im
summary    : Telegram is a messaging app with a focus on speed and security, it’s super fast, simple and free.
description: |
    Telegram is a messaging app with a focus on speed and security, it’s super fast, simple and free.
optimize   : lto
builddeps  :
    - pkgconfig(Qt5Gui)
    - pkgconfig(alsa)
    - pkgconfig(appindicator3-0.1)
    - pkgconfig(dbusmenu-qt5)
    - pkgconfig(enchant-2)
    - pkgconfig(gtk+-3.0)
    - pkgconfig(libavcodec)
    - pkgconfig(libpulse)
    - pkgconfig(liblz4)
    - pkgconfig(minizip)
    - pkgconfig(openal)
    - pkgconfig(opus)
    - range-v3-devel
    - xxhash-devel
rundeps    :
    - qt5-imageformats
setup      : |
    %cmake_ninja \
        -DDESKTOP_APP_DISABLE_CRASH_REPORTS=ON \
        -DDESKTOP_APP_USE_PACKAGED_EXPECTED=OFF \
        -DDESKTOP_APP_USE_PACKAGED_GSL=OFF \
        -DDESKTOP_APP_USE_PACKAGED_RLOTTIE=OFF \
        -DDESKTOP_APP_USE_PACKAGED_VARIANT=OFF \
        -DTDESKTOP_API_HASH=8562eb11c58f218ac08ee12c32e07ece \
        -DTDESKTOP_API_ID=1080918 \
        -DTDESKTOP_LAUNCHER_BASENAME=telegramdesktop \
        -DTDESKTOP_USE_PACKAGED_TGVOIP=OFF
build      : |
    %ninja_build
install    : |
    %ninja_install
